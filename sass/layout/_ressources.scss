.Ressources {
  display: flex;
  flex-direction: column; /* force empilement vertical : .pivots au-dessus, .aide en dessous */
  align-items: stretch;
  height: auto;
  .pivots {
    /* espace latéral global pour la section pivots */
    padding-left: 3vw;
    padding-right: 3vw;
    box-sizing: border-box;

      @media screen and (min-width: 432px){
          height: 70vh;
      }
      @media screen and (min-width: 576px){
          height: 100vh;
          display: flex;
          flex-direction: column;
          align-items: center; /* centre verticalement .prof dans la section */
      }
    .prof {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      /* force toutes les lignes de la grille à partager la même hauteur */
      grid-auto-rows: 1fr;
      align-items: stretch; /* étire les items pour remplir leur cellule */
      position: relative; // si tu veux du positionnement absolu

      .prof-texte-content {
        font-family: var(--texte-titre);
        color: var(--couleur-texte-footer);
        opacity: 0;
        /* important : centrer autour du top fourni par JS */
        transform: translateY(-50%);
        transition: opacity 0.3s ease;
        /* par défaut : ne pas capter les événements (clic passe au dessous) */
        pointer-events: none;
        /* empêcher la sélection quand invisible */
        user-select: none;
        text-align: left;
        background: rgba(0, 0, 0, 0.8);
        padding: 0.5rem 1rem;
        z-index: 10;
      }

      .prof-texte-david {
        grid-column: 1 / span 2;  /* à gauche */
        justify-self: start;
        margin-right: 1rem;
        align-self: center; /* aligne verticalement au centre de la grille (même hauteur que la figure) */
        /* ajustement fin si nécessaire :
           padding-top: 0.25rem; */
      }

      .prof-texte-greg {
        grid-column: 3 / span 2;  /* à droite */
        justify-self: end;
        text-align: right;
        margin-left: 1rem;
        align-self: center; /* aligne verticalement au centre de la grille (même hauteur que la figure) */
        /* ajustement fin si nécessaire :
           padding-top: 0.25rem; */
      }

      .prof-texte-content.is-visible {
        opacity: 1;
        /* activer la sélection et les interactions quand visible */
        pointer-events: auto;
        user-select: text;
        cursor: text;
        /* surtout ne pas changer transform ici (JS contrôle top) */
      }

      /* chaque personne (figure + description) est un item de la grille */
        .prof-person {
          grid-column: span 2;
          display: flex;
          flex-direction: column;
          align-items: stretch;
        }

        /* description sous l'image (pour Grégory) */
        .person-desc {
          margin-top: 0.5rem;
          padding: 0.25rem 0.5rem;
          position: relative;
          z-index: 3; /* force la description au-dessus du fond */
          background: rgba(255,255,255,0.0); /* transparent par défaut, changez si besoin */
          letter-spacing: .3rem;
        }

        @media screen and (min-width: 576px){
          height: 80%; /* <- .prof prend 80% de la hauteur de .pivots */
          box-sizing: border-box;
          width: 100%;
        }
      /* chaque figure occupe toute la hauteur de sa cellule et est un conteneur flex */
      figure {
        grid-column: span 2;
        margin: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        position: relative;
        overflow: hidden;
        cursor: pointer; /* click plutôt que hover */
        /* bordure par défaut (blanche) */
        border: 2px solid #fff;
        transition: border-color .18s ease;

        /* zone de hover fixe (couvre toute la figure) */
        &::after {
          content: "";
          position: absolute;
          inset: 0;
          pointer-events: none;
        }

        /* état actif (clic) : appliquer un flou / background sur le figcaption */
        &.is-active figcaption {
           background: rgba(0,0,0,0.35);
           -webkit-backdrop-filter: blur(6px);
           backdrop-filter: blur(6px);
           /* fallback pour anciens navigateurs : flouter le texte lui‑même */
           filter: blur(0.3px);
        }

        /* état actif : bordure orange (variable ou fallback) */
        &.is-active {
          border-color: var(--personnes-border-pivots-active, #ff8a00);
        }

        /* Optionnel : état actif => déplacer / agrandir l'image et flouter */
        &.is-active .img-pivots {
          transform: translateX(50%) scale(1.12);
          transition: transform 0.35s ease-in-out, filter 0.25s ease;
          filter: blur(3px);
        }
        /* état inactif : reset */
        .img-pivots {
          transition: transform 0.25s ease, filter 0.25s ease;
          object-fit: cover;
          object-position: 50% 20%; /* le haut de l'image reste visible */
          transform-origin: top center;
          image-rendering: pixelated;
          image-rendering: crisp-edges;
          -ms-interpolation-mode: nearest-neighbor;
          border-radius: 0; /* plus d'arrondi sur les images */
        }
        .img-pivots:hover {
          border: none;
        }

        figcaption {
          position: absolute;
          left: 0;
          right: 0;
          top: 50%;
          color: var(--couleur-texte-blanc);
          // padding: 0.6rem 1rem;
          font-family: var(--texte-titre);
          text-align: center;
          font-size: 1rem;
          z-index: 2;
          transition: all 0.25s ease; /* animation pour l'apparition du flou / background */
          /* rendre le background léger pour que le backdrop-filter ait de l'effet */
          -webkit-backdrop-filter: none;
          backdrop-filter: none;

            @media screen and (min-width: 576px) {
            font-size: 1.5rem; /* augmente sur écrans plus larges */
          }
        }

        /* Optionnel : état actif (clic) : image floutée / déplacée (déjà géré par .is-active plus haut) */
        /* aucune règle :hover restante — on utilise uniquement .is-active */

        .prof_content {
          flex: 1 1 0;
          grid-column: span 1;
        }
        }
        .David {
          transform-origin: top left; /* ancre en haut à gauche pour garder le haut fixe */
          // margin-left: 200px;
         }
         .Greg {
          transform-origin: top right; /* ancre en haut à droite pour garder le haut fixe */
         }

       }
  }
  .aide {
    order: 1;            /* s'assure d'être après .pivots dans l'ordre visuel */
    flex: 0 0 auto;      /* ne pas s'étirer */
    margin-top: 2rem;    /* espace au-dessus si nécessaire */
    margin-bottom: 4rem;
    /* plus de place pour les slides */
    min-height: 40vh;

    @media screen and (min-width: 432px) {
      min-height: 50vh; /* augmente sur écrans moyens */
      margin-top: 4rem;
    }
    @media screen and (min-width: 576px) {
      min-height: 55vh; /* augmente sur écrans plus larges */
    }

    display: flex;
    justify-content: center;
    flex-direction: column;
    align-items: center;
    overflow: hidden;
    
    .banner {
      width: 100%;
      text-align: center;
      overflow: hidden;
      position: relative;
      perspective: (1000px);
      height: 56vh;

      .slider {
        position: absolute;  /* important pour positionnement des items */
        width: 200px;
        height: 18.125rem;
        top: 10%;
        left: calc(50% - 100px);
        transform-style: preserve-3d;
        // perspective: 1000px; /* CORRECT */
        animation: autoRun 20s linear infinite;
        animation-play-state: running;
        margin-top: 1.5rem;
        

        .item {
          position: absolute;
          inset: 0 0 0 0;
          /* positionnement dans le carrousel */
          transform: rotateY(calc( (var(--position) - 1) * (360 / var(--quantity)) * 1deg)) translateZ(300px);
          transform-style: preserve-3d;
          background: transparent;

          /* perspective appliquée sur chaque item pour le flip interne */
          perspective: 1000px;

          /* wrapper interne pour le flip */
          .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
          }

          /* Par défaut, afficher le recto ; sur hover, on retourne */
          &:hover .flip-card-inner {
            transform: rotateY(180deg);
          }

          /* Les deux faces du flip */
          .flip-card-front,
          .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            // padding: 1rem;
            box-sizing: border-box;
            border: var(--personnes-flip-card-border) 1px solid;
            border: 2px solid var(--personnes-couleur-border);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          }

         /* empêcher que l'image dépasse de la face avant */
         .flip-card-front {
           position: relative;
           overflow: hidden;
           align-items: flex-start; /* place le titre en haut */
           padding-top: 1rem;
         }

         .flip-card-front .flip-card-media {
           position: absolute;
           inset: 0;
           z-index: 1;
         }
         .flip-card-front .flip-card-media img {
           display: block;
           width: 100%;
           height: 100%;
           object-fit: cover; /* couvre sans dépasser */
         }

         /* titre au-dessus de l'image */
         .flip-card-front .flip-card-title {
           position: relative;
           z-index: 2;
           margin: 0;
           width: 100%;
           text-align: center;
           padding: 0.25rem 1rem;
           background: rgba(0,0,0,0.25); /* léger fond pour lisibilité */
           color: #fff;
           font-size: 1rem;
         }

         /* si pas d'image, titre garde le même rendu */
         .flip-card-front:not(.has-media) .flip-card-title {
           background: none;
           color: inherit;
         }

          .flip-card-back {
            transform: rotateY(180deg);
            background-color: var(--personnes-flip-card-bg);
          }

         /* positionner le H2 en haut de la face avant */
         .flip-card-front {
           align-items: flex-start; /* place le contenu en haut */
           padding-top: 1rem;       /* espace entre le bord et le titre */
         }
+
          /* utilitaires de positionnement du titre à l'intérieur des faces */
          .flip-card-front h2,
          .flip-card-back h2 {
            margin: 0;
            width: 100%;
            text-align: center;
            transition: text-align .25s ease, padding .25s ease, transform .25s ease;
          }

         /* s'assurer que le H2 de la face avant ne possède pas de margin-top */
         .flip-card-front h2 {
           margin-top: 0;
         }
        }
      }
    }

    .controls {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-bottom: 1.5rem;
}

.btn-pixel {
  font-family: var(--texte-titre);
  font-size: 1rem;
  padding: 0.5rem 1.25rem;
  color: var(--personnes-couleur-texte-boutons);
  background: var(--personnes-couleur-bg-boutons);
  border: 3px solid var(--personnes-flip-card-border);
  border-radius: 0;
  image-rendering: pixelated;
  box-shadow: 0 0 0 3px #000;
  cursor: pointer;
  text-transform: uppercase;
  transition: background .18s ease, color .18s ease, transform .06s ease;
}

/* état actif : fond orange */
.btn-pixel.is-active {
  border-color: var(--personnes-couleur-border-btn-active); /* orange */
  // color: #000;         /* texte lisible */
}
.btn-pixel:active {
  transform: translateY(2px);
  box-shadow: 0 0 0 1px #000;
}

  }

  .res-titre{
    font-family: var(--texte-titre);
    color: var(--couleur-texte-footer);
    text-align: center;
    // margin-bottom: 10px;
    margin: 2rem;
    font-size: 3rem;
  }
          @keyframes autoRun {
          from {
            transform:  rotateY(0deg);
          }
          to {
            transform:  rotateY(360deg);
          }
        }

  /* Retourné au comportement par défaut : pas de texte à gauche de David.
     Les styles spécifiques à .zone-david ont été supprimés. */
  // .David .img-pivots {
  //   /* garde les styles d'image normaux (déjà définis plus haut) */
  // }

}